var bootbox=window.bootbox||function(a){function j(a,d){return d==null&&(d=b),typeof i[d][a]=="string"?i[d][a]:d!=c?j(a,c):a}var b="en",c="en",d=!0,e="static",f="",g={},h={},i={en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"}};return h.setLocale=function(a){for(var c in i)if(c==a){b=a;return}throw new Error("Invalid locale: "+a)},h.addLocale=function(a,b){typeof i[a]=="undefined"&&(i[a]={});for(var c in b)i[a][c]=b[c]},h.setIcons=function(a){g=a;if(typeof g!="object"||g==null)g={}},h.alert=function(){var a="",b=j("OK"),c=null;switch(arguments.length){case 1:a=arguments[0];break;case 2:a=arguments[0],typeof arguments[1]=="function"?c=arguments[1]:b=arguments[1];break;case 3:a=arguments[0],b=arguments[1],c=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3")}return h.dialog(a,{label:b,icon:g.OK,callback:c},{onEscape:c})},h.confirm=function(){var a="",b=j("CANCEL"),c=j("CONFIRM"),d=null;switch(arguments.length){case 1:a=arguments[0];break;case 2:a=arguments[0],typeof arguments[1]=="function"?d=arguments[1]:b=arguments[1];break;case 3:a=arguments[0],b=arguments[1],typeof arguments[2]=="function"?d=arguments[2]:c=arguments[2];break;case 4:a=arguments[0],b=arguments[1],c=arguments[2],d=arguments[3];break;default:throw new Error("Incorrect number of arguments: expected 1-4")}return h.dialog(a,[{label:b,icon:g.CANCEL,callback:function(){typeof d=="function"&&d(!1)}},{label:c,icon:g.CONFIRM,callback:function(){typeof d=="function"&&d(!0)}}])},h.prompt=function(){var b="",c=j("CANCEL"),d=j("CONFIRM"),e=null,f="";switch(arguments.length){case 1:b=arguments[0];break;case 2:b=arguments[0],typeof arguments[1]=="function"?e=arguments[1]:c=arguments[1];break;case 3:b=arguments[0],c=arguments[1],typeof arguments[2]=="function"?e=arguments[2]:d=arguments[2];break;case 4:b=arguments[0],c=arguments[1],d=arguments[2],e=arguments[3];break;case 5:b=arguments[0],c=arguments[1],d=arguments[2],e=arguments[3],f=arguments[4];break;default:throw new Error("Incorrect number of arguments: expected 1-5")}var i=b,k=a("<form></form>");k.append("<input autocomplete=off type=text value='"+f+"' />");var l=h.dialog(k,[{label:c,icon:g.CANCEL,callback:function(){typeof e=="function"&&e(null)}},{label:d,icon:g.CONFIRM,callback:function(){typeof e=="function"&&e(k.find("input[type=text]").val())}}],{header:i});return l.on("shown",function(){k.find("input[type=text]").focus(),k.on("submit",function(a){a.preventDefault(),l.find(".btn-primary").click()})}),l},h.modal=function(){var b,c,d,f={onEscape:null,keyboard:!0,backdrop:e};switch(arguments.length){case 1:b=arguments[0];break;case 2:b=arguments[0],typeof arguments[1]=="object"?d=arguments[1]:c=arguments[1];break;case 3:b=arguments[0],c=arguments[1],d=arguments[2];break;default:throw new Error("Incorrect number of arguments: expected 1-3")}return f.header=c,typeof d=="object"?d=a.extend(f,d):d=f,h.dialog(b,[],d)},h.dialog=function(b,c,g){var h=null,i="",j=[],g=g||{};c==null?c=[]:typeof c.length=="undefined"&&(c=[c]);var k=c.length;while(k--){var l=null,m=null,n="",o=null;if(typeof c[k].label=="undefined"&&typeof c[k]["class"]=="undefined"&&typeof c[k].callback=="undefined"){var p=0,q=null;for(var r in c[k]){q=r;if(++p>1)break}p==1&&typeof c[k][r]=="function"&&(c[k].label=q,c[k].callback=c[k][r])}typeof c[k].callback=="function"&&(o=c[k].callback),c[k]["class"]?m=c[k]["class"]:k==c.length-1&&c.length<=2&&(m="btn-primary"),c[k].label?l=c[k].label:l="Option "+(k+1),c[k].icon&&(n="<i class='"+c[k].icon+"'></i> "),i+="<a data-handler='"+k+"' class='btn "+m+"' href='javascript:;'>"+n+""+l+"</a>",j[k]=o}var s=["<div class='bootbox modal' style='overflow:hidden;'>"];if(g.header){var t="";if(typeof g.headerCloseButton=="undefined"||g.headerCloseButton)t="<a href='javascript:;' class='close'>&times;</a>";s.push("<div class='modal-header'>"+t+"<h3>"+g.header+"</h3></div>")}s.push("<div class='modal-body'></div>"),i&&s.push("<div class='modal-footer'>"+i+"</div>"),s.push("</div>");var u=a(s.join("\n")),v=typeof g.animate=="undefined"?d:g.animate;v&&u.addClass("fade");var w=typeof g.classes=="undefined"?f:g.classes;return w&&u.addClass(w),a(".modal-body",u).html(b),u.bind("hidden",function(){u.remove()}),u.bind("hide",function(){h=="escape"&&typeof g.onEscape=="function"&&g.onEscape()}),a(document).bind("keyup.modal",function(a){a.which==27&&(h="escape")}),u.bind("shown",function(){a("a.btn-primary:last",u).focus()}),u.on("click",".modal-footer a, a.close",function(b){var c=a(this).data("handler"),d=j[c],e=null;typeof d=="function"&&(e=d()),e!==!1&&(b.preventDefault(),h="button",u.modal("hide"))}),g.keyboard==null&&(g.keyboard=typeof g.onEscape=="function"),a("body").append(u),u.modal({backdrop:typeof g.backdrop=="undefined"?e:g.backdrop,keyboard:g.keyboard}),u},h.hideAll=function(){a(".bootbox").modal("hide")},h.animate=function(a){d=a},h.backdrop=function(a){e=a},h.classes=function(a){f=a},h}(window.jQuery);(function(){var a=function(){function g(a){return String(a).replace(/&(?!\w+;)|[<>"']/g,function(a){return f[a]||a})}var a=Object.prototype.toString;Array.isArray=Array.isArray||function(b){return a.call(b)=="[object Array]"};var b=String.prototype.trim,c;if(b)c=function(a){return a==null?"":b.call(a)};else{var d,e;/\S/.test(" ")?(d=/^[\s\xA0]+/,e=/[\s\xA0]+$/):(d=/^\s+/,e=/\s+$/),c=function(a){return a==null?"":a.toString().replace(d,"").replace(e,"")}}var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h={},i=function(){};return i.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(a,b,c,d){d||(this.context=b,this.buffer=[]);if(!this.includes("",a)){if(d)return a;this.send(a);return}a=this.render_pragmas(a);var e=this.render_section(a,b,c);e===!1&&(e=this.render_tags(a,b,c,d));if(d)return e;this.sendLines(e)},send:function(a){a!==""&&this.buffer.push(a)},sendLines:function(a){if(a){var b=a.split("\n");for(var c=0;c<b.length;c++)this.send(b[c])}},render_pragmas:function(a){if(!this.includes("%",a))return a;var b=this,c=this.getCachedRegex("render_pragmas",function(a,b){return new RegExp(a+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+b,"g")});return a.replace(c,function(a,c,d){if(!b.pragmas_implemented[c])throw{message:"This implementation of mustache doesn't understand the '"+c+"' pragma"};b.pragmas[c]={};if(d){var e=d.split("=");b.pragmas[c][e[0]]=e[1]}return""})},render_partial:function(a,b,d){a=c(a);if(!d||d[a]===undefined)throw{message:"unknown_partial '"+a+"'"};return!b||typeof b[a]!="object"?this.render(d[a],b,d,!0):this.render(d[a],b[a],d,!0)},render_section:function(a,b,c){if(!this.includes("#",a)&&!this.includes("^",a))return!1;var d=this,e=this.getCachedRegex("render_section",function(a,b){return new RegExp("^([\\s\\S]*?)"+a+"(\\^|\\#)\\s*(.+)\\s*"+b+"\n*([\\s\\S]*?)"+a+"\\/\\s*\\3\\s*"+b+"\\s*([\\s\\S]*)$","g")});return a.replace(e,function(a,e,f,g,h,i){var j=e?d.render_tags(e,b,c,!0):"",k=i?d.render(i,b,c,!0):"",l,m=d.find(g,b);return f==="^"?!m||Array.isArray(m)&&m.length===0?l=d.render(h,b,c,!0):l="":f==="#"&&(Array.isArray(m)?l=d.map(m,function(a){return d.render(h,d.create_context(a),c,!0)}).join(""):d.is_object(m)?l=d.render(h,d.create_context(m),c,!0):typeof m=="function"?l=m.call(b,h,function(a){return d.render(a,b,c,!0)}):m?l=d.render(h,b,c,!0):l=""),j+l+k})},render_tags:function(a,b,c,d){var e=this,f=function(){return e.getCachedRegex("render_tags",function(a,b){return new RegExp(a+"(=|!|>|&|\\{|%)?([^#\\^]+?)\\1?"+b+"+","g")})},h=f(),i=function(a,d,i){switch(d){case"!":return"";case"=":return e.set_delimiters(i),h=f(),"";case">":return e.render_partial(i,b,c);case"{":case"&":return e.find(i,b);default:return g(e.find(i,b))}},j=a.split("\n");for(var k=0;k<j.length;k++)j[k]=j[k].replace(h,i,this),d||this.send(j[k]);if(d)return j.join("\n")},set_delimiters:function(a){var b=a.split(" ");this.otag=this.escape_regex(b[0]),this.ctag=this.escape_regex(b[1])},escape_regex:function(a){if(!arguments.callee.sRE){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+b.join("|\\")+")","g")}return a.replace(arguments.callee.sRE,"\\$1")},find:function(a,b){function d(a){return a===!1||a===0||a}a=c(a);var e;if(a.match(/([a-z_]+)\./ig)){var f=this.walk_context(a,b);d(f)&&(e=f)}else d(b[a])?e=b[a]:d(this.context[a])&&(e=this.context[a]);return typeof e=="function"?e.apply(b):e!==undefined?e:""},walk_context:function(a,b){var c=a.split("."),d=b[c[0]]!=undefined?b:this.context,e=d[c.shift()];while(e!=undefined&&c.length>0)d=e,e=e[c.shift()];return typeof e=="function"?e.apply(d):e},includes:function(a,b){return b.indexOf(this.otag+a)!=-1},create_context:function(a){if(this.is_object(a))return a;var b=".";this.pragmas["IMPLICIT-ITERATOR"]&&(b=this.pragmas["IMPLICIT-ITERATOR"].iterator);var c={};return c[b]=a,c},is_object:function(a){return a&&typeof a=="object"},map:function(a,b){if(typeof a.map=="function")return a.map(b);var c=[],d=a.length;for(var e=0;e<d;e++)c.push(b(a[e]));return c},getCachedRegex:function(a,b){var c=h[this.otag];c||(c=h[this.otag]={});var d=c[this.ctag];d||(d=c[this.ctag]={});var e=d[a];return e||(e=d[a]=b(this.otag,this.ctag)),e}},{name:"mustache.js",version:"0.4.0",to_html:function(a,b,c,d){var e=new i;d&&(e.send=d),e.render(a,b||{},c);if(!d)return e.buffer.join("\n")}}}();(function(){function b(a){return"".trim?a.trim():a.replace(/^\s+/,"").replace(/\s+$/,"")}var c={VERSION:"0.10",templates:{},$:typeof window!="undefined"?window.jQuery||window.Zepto||null:null,addTemplate:function(b,d){if(typeof b=="object"){for(var e in b)this.addTemplate(e,b[e]);return}c[b]?console.error("Invalid name: "+b+"."):c.templates[b]?console.error('Template "'+b+'  " exists'):(c.templates[b]=d,c[b]=function(d,e){d=d||{};var f=a.to_html(c.templates[b],d,c.templates);return c.$&&!e?c.$(f):f})},clearAll:function(){for(var a in c.templates)delete c[a];c.templates={}},refresh:function(){c.clearAll(),c.grabTemplates()},grabTemplates:function(){var a,d=document.getElementsByTagName("script"),e,f=[];for(a=0,l=d.length;a<l;a++)e=d[a],e&&e.innerHTML&&e.id&&(e.type==="text/html"||e.type==="text/x-icanhaz")&&(c.addTemplate(e.id,b(e.innerHTML)),f.unshift(e));for(a=0,l=f.length;a<l;a++)f[a].parentNode.removeChild(f[a])}};typeof require!="undefined"?module.exports=c:window.ich=c,typeof document!="undefined"&&(c.$?c.$(function(){c.grabTemplates()}):document.addEventListener("DOMContentLoaded",function(){c.grabTemplates()},!0))})()})();